<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X - CS5100 Final Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header>
        <div class="logo">ùïè</div>
    </header>
    <main>
        <section class="compose-tweet">
            <form action="{{ url_for('generate_hashtags') }}" method="post">
                <textarea name="tweet" maxlength="280" placeholder="What's happening?">{{ tweet if tweet else '' }}</textarea>
                <div class="actions">
                    <span class="char-count">0 / 280</span>
                    <button type="submit">Generate</button>
                </div>
            </form>
        </section>
        <section class="detected-topics">
            {% if topics %}
                <h3>Topics Detected</h3>
                <ul>
                    {% for topic in topics %}
                        <li>{{ topic }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <h3>No topics detected yet.</h3>
            {% endif %}
        </section>
        <section class="generated-hashtags">
            {% if hashtags %}
                <h3>Generated Hashtags</h3>
                <ul>
                    {% for hashtag in hashtags %}
                        <li>{{ hashtag }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <h3>No hashtags generated yet.</h3>
            {% endif %}
        </section>
    </main>
</body>
<script>
    const textarea = document.querySelector('textarea');
    const charCount = document.querySelector('.char-count');

    textarea.addEventListener('input', () => {
        const count = textarea.value.length;
        charCount.textContent = `${count} / 280`;
    });
</script>
</html>
